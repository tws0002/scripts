<html>
<head>
<link rel="stylesheet" type="text/css" href="gridster.js/dist/jquery.gridster.css">
<link rel="stylesheet" type="text/css" href="gridster.js/dist/demo.css">
<link rel="stylesheet" href="font-awesome-4.1.0/css/font-awesome.min.css">


<script type="text/javascript" src="../scripts/jquery-2.1.1.js"></script>
<script>
 
  </script>

</head>

<body>



<div class="gridster ready">

<div class = "wrapper"><div class="add-button" align="center"><i class="fa fa-plus-circle fa-5x"></i></div></div>
<div class = "wrapper"><div class="return-button" align="center"><i class="fa fa-reply fa-2x"></i></div></div>

    <ul>
        <li data-row="1" data-col="1" data-sizex="5" data-sizey="1" class="gs_w"><div class="delete-button"><i class="fa fa-minus-circle" style="float: center"></i></div><h3><input class="textfield" type="text" value="頭"></input></h3><span class="gs-resize-handle gs-resize-handle-both"></span></li>
        <li data-row="2" data-col="1" data-sizex="1" data-sizey="5" class="gs_w"><div class="delete-button"><i class="fa fa-minus-circle" style="float: center;"></i></div><h3><input class="textfield" type="text" value="廣告"></input></h3><span class="gs-resize-handle gs-resize-handle-both"></span></li>
        <li data-row="2" data-col="2" data-sizex="5" data-sizey="5" class="gs_w"><div class="delete-button"><i class="fa fa-minus-circle" style="float: center;"></i></div><h3><input class="textfield" type="text" value="內容"></input></h3><span class="gs-resize-handle gs-resize-handle-both"></span></li>
		<li data-row="1" data-col="4" data-sizex="1" data-sizey="1" class="gs_w"><div class="delete-button"><i class="fa fa-minus-circle" style="float: center;"></i></div><h3><input class="textfield" type="text" value="logo"></input></h3><span class="gs-resize-handle gs-resize-handle-both"></span></li>


    </ul>
</div>
<div class = "wrapper" align="center"><input class="serialize" type="text" value=""></div>

<script src="gridster.js/dist/jquery.gridster.js" type="text/javascript" charset="utf-8"></script>
<script type="text/javascript" id="code">
$(function(){ //DOM Ready
 
    $(".gridster ul").gridster({
        widget_margins: [4, 4],
        widget_base_dimensions: [100, 100],
	max_cols: 12,
	max_rows: 24,
    resize: {
		enabled: true
	}
    });
 
});
$(document).on( "click", ".gridster .delete-button", function() {
    var gridster = $(".gridster ul").gridster().data('gridster');
    gridster.remove_widget($(this).parent());
});

$(document).on("click", ".gridster .add-button", function() {
    var gridster = $(".gridster ul").gridster().data('gridster');      
    gridster.add_widget('<li class="gs_w" id="block"><div class="delete-button"><i class="fa fa-minus-circle" style="float: center"></i></div><h3><input class="textfield" type="text"></input></h3><span class="gs-resize-handle gs-resize-handle-both"></span></li>', 1, 1);
    $('#block').resizable({ 
		enabled: true,    
		containment: '#gridster ul',
	    autoHide: true,
		stop: function(event, ui) {
	        var resized = $(this);
			resizeBlock(resized);
		}
	})

});

$(document).on( "click", ".gridster .reload-button", function() {
    var gridster = $(".gridster ul").gridster().data('gridster');
    gridster.remove_all_widgets($(this).parent());
});

</script>
<script>
$(document).on('click', ".gridster .return-button", function () {
    var gridster = $(".gridster ul").gridster().data('gridster');
    gridData = gridster.serialize();
    var htmlString = '';
    $.each(gridData, function (index, value) {
        htmlString += '<li data-row="' + value.row + '" data-col="' + value.col + '" data-sizex="' + value.size_x + '" data-sizey="' + value.size_y + '" >' + value.htmlContent +
            '</li>\n';
    });


	$("input[type=text].serialize").val(htmlString);


});

</script>

</body>
</html>


